<html>
<body>
<script src="https://www.desmos.com/api/v0.8/calculator.js?apiKey=dcb31709b452b1cf9dc26972add0fda6"></script>
<div id="calculator" style="width: 1280px; height: 720px;"></div>
<script>
  	var elt = document.getElementById('calculator');
  	var calculator = Desmos.GraphingCalculator(elt);
  
    var xvalues = ['0'];
    var yvalues = ['0'];

    function updateTable () {
      calculator.setExpression({
        id: 'table1',
        type: 'table',
        columns: [
          {latex: 'x', values: xvalues},
          {latex: 'y', values: yvalues}
        ]
      });
    }

    updateTable();

    function inRectangle(point, rect) {
      return (
        point.x >= rect.left &&
        point.x <= rect.right &&
        point.y <= rect.top &&
        point.y >= rect.bottom
      )
    }

    elt.addEventListener('click', function (evt) {
      var rect = elt.getBoundingClientRect();
      var x = evt.pageX - rect.left;
      var y = evt.pageY - rect.top;
      // Note, pixelsToMath expects x and y to be referenced to the top left of
      // the calculator's parent container.
      var mathCoordinates = calculator.pixelsToMath({x: x, y: y});


      if (!inRectangle(mathCoordinates, calculator.graphpaperBounds.mathCoordinates)) return;

      xvalues.push(mathCoordinates.x.toPrecision(5));
      yvalues.push(mathCoordinates.y.toPrecision(5));

      updateTable();
    });
</script>
</body>
</html> 